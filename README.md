# OpenGSN Gas Free Transaction (Meta-Transaction)

- 이 저장소는 [OpenGSN (Gas Station Network)](https://docs.opengsn.org/)을 활용하여 사용자가 가스비(ETH) 없이도 블록체인과 상호작용할 수 있도록 하는 메타 트랜잭션 기능을 구현한 예제입니다.
- 이 예제에서는 `HardHat 테스트 환경`에서 별도의 `RelayServer` 구성 없이 `스마트 컨트랙트 레벨` 구현 및 테스트를 진행합니다.

## 🚀 OpenGSN이란?

- OpenGSN은 사용자가 이더리움 기반(**EVM**) 애플리케이션을 사용할 때 **ETH 없이도 트랜잭션을 전송할 수 있게 해주는 프로토콜**입니다.
- 사용자는 트랜잭션을 직접 보내는 것이 아니라, **서명된 메시지**를 relayer에게 보내고,
- relayer가 이를 블록체인에 대신 전송하며 가스비를 대납합니다.

## 🧩 주요 구성 요소

| 구성 요소          | 설명                                                                                                                                                                                                                              |
| ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `Relay Server`     | 사용자의 서명된 메시지를 받아 블록체인에 전송하는 서버입니다.                                                                                                                                                                     |
| `Relay Worker`     | `Relay Server` 에서 사용자의 `Meta Transaction` 에 대한 `Gas Fee`를 대납하는 EOA 입니다.                                                                                                                                          |
| `RelayHub`         | 리레이어 등록 및 수수료 정산을 처리하는 핵심 스마트 컨트랙트입니다.                                                                                                                                                               |
| `Paymaster`        | 어떤 트랜잭션에 대해 가스비를 지원할지 결정하는 계약입니다.                                                                                                                                                                       |
| `Forwarder`        | 원래 호출자가 누구인지 검증하고, 올바르게 호출되도록 지원합니다.                                                                                                                                                                  |
| `Meta-Transaction` | **사용자가 서명한 트랜잭션 데이터**를 다른 `제3자(릴레이 서버)`가 대신해서 **블록체인에 트랜잭션을 전송**해 주는 방식으로써, `사용자는 단지 트랜잭션에 서명`만 하고, `가스 비용을 직접 지불하지 않아도 되는` 트랜잭션 방식입니다. |

---

## 🧱 시스템 아키텍처

```text
[사용자] → [Relayer] → [Forwarder] → [Paymaster] → [RelayHub] → [타겟 스마트 컨트랙트]
```

![OpenGSN Architecture](./images/OpenGsn.png)
